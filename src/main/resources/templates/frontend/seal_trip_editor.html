<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chill Trip</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="Free HTML Templates" name="keywords" />
    <meta content="Free HTML Templates" name="description" />

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon" />

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Customized Bootstrap Stylesheet -->
    <link th:href="@{/css/style.css}" rel="stylesheet" />
    <link th:href="@{/css/yuki_style.css}" rel="stylesheet" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
        background: #f5f5f5;
        padding: 0; /* 移除 padding */
        margin: 0; /* 確保沒有 margin */
      }

      .abstract-wrapper {
        margin-bottom: 20px;
        background: #f5f5f5;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        overflow: hidden;
      }

      .abstract-container {
        padding: 20px;
        background: #f5f5f5;
      }

      .container {
        max-width: 100% !important;
        padding: 20px;
        margin: 0;
        width: 100%;
        box-sizing: border-box;
      }

      .cover-image-wrapper {
        margin-bottom: 20px;
        background: white;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        overflow: hidden;
      }

      .cover-image-container {
        padding: 20px;
      }

      .cover-image-preview {
        width: 100%;
        height: 800px;
        border: 2px dashed #e0e0e0;
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #f8f9fa;
      }

      .cover-image-preview img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .cover-image-actions {
        display: flex;
        gap: 10px;
        justify-content: center;
      }

      .cover-image-wrapper .editor-title {
        margin: 0;
        padding: 10px;
        background: #f8f9fa;
        border-bottom: 1px solid #e0e0e0;
      }

      .header {
        display: flex;
        width: 100%;
        gap: 20px;
        margin-bottom: 20px;
      }

      /* 左側區域 */
      .left-section {
        width: 300px;
        min-width: 350px;
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      /* 右側區域 */
      .right-section {
        flex: 1;
        min-width: 0; /* 防止 flex 子元素溢出 */
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      /* 搜尋欄位容器 */
      .search-bar {
        display: flex;
        gap: 10px;
      }

      .day-nav {
        display: flex;
        align-items: center;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        background: #f8f9fa;
        padding: 4px;
      }

      .day-nav button {
        padding: 8px 12px;
        border: none;
        background: none;
        cursor: pointer;
        color: #6b7280;
      }

      .day-nav button.active {
        background: #6b7280;
        color: white;
        border-color: #6b7280;
      }

      .day-nav button:hover:not(.active) {
        background: #f3f4f6;
        border-color: #9ca3af;
      }

      /* 左右箭頭和加號按鈕的hover效果 */
      .day-nav button#prevDay:hover,
      .day-nav button#nextDay:hover,
      .day-nav button#addDay:hover {
        background: #e5e7eb; /* 稍深的灰色 */
      }

      /* 確保箭頭按鈕在禁用時的樣式 */
      .day-nav button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        background: none;
      }

      .days-container {
        display: flex;
        overflow-x: auto;
        flex: 1;
        margin: 0 8px;
        scrollbar-width: none; /* Firefox */
      }

      .days-container::-webkit-scrollbar {
        display: none; /* Chrome, Safari, Edge */
      }

      .day-nav button:not(.day-btn) {
        flex-shrink: 0;
      }

      .main-content {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
        min-height: 400px;
        width: 100%;
        box-sizing: border-box;
      }

      .spots-list {
        display: none;
        flex: 1;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        padding: 15px;
        background: white;
        overflow-y: auto;
        flex-direction: column;
        min-height: 400px;
      }

      .spots-list[data-day="1"] {
        display: flex;
      }

      .add-spot-btn {
        width: 100%;
        padding: 8px;
        background: #9e9e9e;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin-bottom: 15px;
      }

      .add-spot-btn:hover {
        background: #bdbdbd;
      }

      .title-abstract h2 {
        font-size: 24px;
        margin: 10px;
      }

      .spot-item {
        display: flex;
        align-items: flex-start; /* 改為頂部對齊 */
        gap: 10px;
        padding: 10px;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        margin-bottom: 8px;
        background: #f8f9fa;
        position: relative;
      }

      .spot-item img {
        width: 80px;
        height: 60px;
        object-fit: cover;
        border-radius: 4px;
      }

      .spot-content {
        flex: 1;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .location-icon {
        color: #4a4a4a;
        font-size: 16px;
        width: 20px;
        text-align: center;
      }

      .spot-info {
        flex: 1;
        min-width: 0;
        padding-right: 24px;
      }

      .rating-line,
      .address-line {
        display: block;
        font-size: 14px;
        color: #666;
      }

      .saved-spot-item {
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        padding: 12px;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      .saved-spot-item h4 {
        margin: 0 0 8px 0;
        font-size: 16px;
        color: #333;
      }

      .delete-spot {
        position: absolute; /* 改為絕對定位 */
        right: 8px;
        top: 8px; /* 改為固定在上方 */
        transform: none; /* 移除 transform */
        border: none;
        background: none;
        cursor: pointer;
        color: #666;
        padding: 0 4px;
        z-index: 1; /* 確保按鈕在上層 */
      }

      .delete-spot:hover {
        color: #dc3545;
      }

      .map-container {
        flex: 1;
        min-height: 400px;
        background: #f8f9fa;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        overflow: hidden;
      }

      .action-buttons {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        width: 100%;
        padding: 0 20px;
      }

      .action-btn {
        padding: 8px 16px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .action-btn.primary {
        padding: 8px 16px;
        background: #9e9e9e;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }

      .action-btn.primary:hover {
        background: #bdbdbd;
      }

      /* 一般按鈕樣式 */
      .editor-footer .action-btn {
        padding: 8px 16px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.2s ease;
        background: #9e9e9e; /* 預設顏色 */
        color: white;
      }

      /* 定時發布按鈕 hover 效果 */
      .editor-footer .action-btn.primary:hover {
        background: #7f7f7f;
      }

      /* 立即發布按鈕特別樣式 */
      .editor-footer .action-btn.publish {
        background: #4a4a4a; /* 深色背景 */
      }

      /* 立即發布按鈕 hover 效果 */
      .editor-footer .action-btn.publish:hover {
        background: #333333;
      }

      /* 儲存草稿按鈕特別樣式 */
      .editor-footer .action-btn.draft {
        background: #9e9e9e;
        border: 1px solid #e0e0e0;
      }

      /* 儲存草稿按鈕 hover 效果 */
      .editor-footer .action-btn.draft:hover {
        background: #7f7f7f;
      }

      /* 按鈕點擊效果 */
      .editor-footer .action-btn:active {
        transform: translateY(1px);
        opacity: 0.9;
      }

      .days-container {
        display: flex;
        overflow-x: auto;
        max-width: 300px;
        scroll-behavior: smooth;
      }

      .day-btn {
        white-space: nowrap;
        padding: 8px 12px;
        border: none;
        background: none;
        cursor: pointer;
      }

      .day-btn.active {
        background: #0d6efd;
        color: white;
      }

      .editor-wrapper {
        display: none;
      }

      .editor-wrapper.active {
        display: block;
      }

      .editor-title {
        margin: 0;
        padding: 10px;
        background: #f8f9fa;
        border-radius: 4px 4px 0 0;
      }

      .editor {
        width: 100%;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
      }

      .editors-container {
        width: 100%;
      }

      .editor-wrapper {
        display: none;
      }

      .editor-wrapper[data-day="1"] {
        display: block;
      }

      .editor-title {
        font-size: 20px;
        margin-bottom: 15px;
        padding: 10px;
        background: #f8f9fa;
        border-radius: 4px;
      }

      .toolbar {
        padding: 8px;
        border-bottom: 1px solid #e0e0e0;
        background: #f8f9fa;
        display: flex;
        gap: 5px;
      }

      .toolbar button {
        padding: 4px 8px;
        border: none;
        background: none;
        cursor: pointer;
        border-radius: 4px;
      }

      .toolbar button:hover {
        background: #e9ecef;
      }

      .editor-content {
        width: 100%;
        min-height: 120px;
        padding: 12px;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        font-size: 14px;
        line-height: 1.6;
        resize: vertical;
      }

      .editor-content:focus {
        outline: none;
        border-color: #9e9e9e;
      }

      .editor-footer {
        padding: 15px;
        background: #f8f9fa;
        border-top: 1px solid #e0e0e0;
        display: flex;
        gap: 10px;
        align-items: center;
      }

      .editor-footer select {
        padding: 6px 12px;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        background: white;
      }

      .collaborators {
        position: fixed;
        bottom: 20px; /* 將位置移動到底部 */
        right: 20px; /* 保持靠右 */
        background: white;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        width: 200px;
        z-index: 9999; /* 確保框永遠在最上層 */
      }

      .collaborator {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-top: 8px;
      }

      .status-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
      }

      .status-dot.online {
        background: #28a745;
      }

      .status-dot.offline {
        background: #dc3545;
      }

      /* 文章編輯器樣式 */
      /* 自定義 Summernote 容器的寬度 */
      .summernote-container {
        width: 100%;
        margin: 20px 0; /* 修改垂直邊距 */
        padding: 0 20px; /* 保持水平內邊距 */
      }

      #summernote {
        width: 100%;
        margin: 0 auto; /* 置中 */
      }

      /* 新增景點選擇彈窗樣式 */
      .spot-selector-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000;
      }

      .spot-selector-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        padding: 20px;
        border-radius: 8px;
        width: 90%;
        max-width: 600px;
        max-height: 80vh;
        overflow-y: auto;
      }

      .spot-selector-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .spot-selector-close {
        background: none;
        border: none;
        font-size: 20px;
        cursor: pointer;
      }

      /* 彈窗內的下拉選單樣式 */
      .spot-selector-filters {
        margin-bottom: 20px;
      }

      .spot-selector-filters select {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        font-size: 14px;
      }

      /* 分頁控制樣式 */
      .spot-selector-pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 15px;
        margin: 20px 0;
      }

      .page-btn {
        padding: 5px 10px;
        border: 1px solid #e0e0e0;
        background: white;
        border-radius: 4px;
        cursor: pointer;
      }

      .page-btn:disabled {
        background: #f5f5f5;
        cursor: not-allowed;
      }

      .saved-spots-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
        max-height: 400px;
        overflow-y: auto;
        padding-right: 5px;
      }

      .saved-spot-item {
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        padding: 10px;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      .saved-spot-item {
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        padding: 12px;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      .saved-spot-item:hover {
        background-color: #f5f5f5;
      }

      .saved-spot-item.selected {
        background-color: #e3f2fd;
        border-color: #2196f3;
      }

      .search-input-group {
        display: flex;
        width: 100%;
        gap: 15px;
      }

      .place-results {
        margin-top: 20px;
        max-height: 300px;
        overflow-y: auto;
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .place-card {
        padding: 15px;
        border-bottom: 1px solid #e0e0e0;
        display: flex;
        gap: 15px;
      }

      .place-card:last-child {
        border-bottom: none;
      }

      .place-image {
        width: 100px;
        height: 100px;
        object-fit: cover;
        border-radius: 4px;
      }

      .place-details {
        flex: 1;
      }

      .place-name {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 5px;
      }

      .place-address {
        font-size: 14px;
        color: #666;
        margin-bottom: 10px;
      }

      .add-to-list-btn {
        padding: 6px 12px;
        background: #6b7280;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 12px;
      }

      .add-to-list-btn:hover {
        background: #4b5563;
      }

      .search-input,
      #map-search {
        flex: 1;
        padding: 8px 12px;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        font-size: 14px;
        position: relative; /* 添加相對定位 */
        z-index: 1; /* 設置基本層級 */
        transition: all 0.2s ease; /* 添加過渡效果 */
      }

      #map-search-btn {
        padding: 8px 16px;
        background: #666;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      #map-search-btn:hover {
        background: #e0e0e0;
      }

      .search-input-group {
        display: flex;
        gap: 10px;
        width: 100%;
      }

      .search-input-group .search-input {
        flex: 1;
        padding: 8px 12px;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        font-size: 14px;
      }

      /* 美化搜尋結果容器 */
      .place-list {
        margin-top: 20px;
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        max-height: 500px;
        overflow-y: auto;
        display: none; /* 初始隱藏，有結果時才顯示 */
      }

      .place-list.active {
        display: block;
      }

      .spot-time {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-top: 10px;
        width: 100%;
      }

      .time-input-group {
        display: flex;
        align-items: center;
        gap: 8px;
        width: 100%;
      }

      .time-input-group label {
        font-size: 12px;
        color: #666;
        min-width: 70px;
        white-space: nowrap;
      }

      .time-input {
        padding: 4px 8px;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        font-size: 12px;
        color: #333;
        width: 100%;
        min-width: 0;
      }

      .time-input:focus {
        outline: none;
        border-color: #9e9e9e;
      }

      .time-btn {
        padding: 4px 8px;
        font-size: 12px;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        background: white;
        cursor: pointer;
      }

      .time-btn:hover {
        background: #f3f4f6;
      }

      .spots-list {
        display: none;
      }

      .spots-list[data-day="1"] {
        display: block;
      }

      .spot-time {
        display: flex;
        gap: 10px;
        margin-top: 5px;
      }

      .time-btn {
        padding: 4px 8px;
        font-size: 12px;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        background: white;
        cursor: pointer;
      }

      .time-btn:hover {
        background: #f3f4f6;
      }

      .spots-list {
        display: none;
      }

      .spots-list[data-day="1"] {
        display: block;
      }

      .chat-btn {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 20px;
        background-color: #f17575; /* 使用粉紅色系 */
        color: white;
        border: none;
        border-radius: 20px;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .chat-btn i {
        font-size: 18px;
      }

      .chat-btn:hover {
        background-color: #c5332b; /* 深紅色 */
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      /* 點擊效果 */
      .chat-btn:active {
        transform: translateY(0);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      /* 如果想要添加動畫效果 */
      @keyframes bounce {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      /* 可以加入未讀訊息提示 */
      .chat-btn.has-unread::after {
        content: "";
        position: absolute;
        top: -5px;
        right: -5px;
        width: 10px;
        height: 10px;
        background-color: #ff4444;
        border-radius: 50%;
        animation: bounce 1s infinite;
      }

      #loginLogoutBtn {
        cursor: pointer;
        transition: all 0.3s ease;
      }

      #loginLogoutBtn:hover {
        color: #f17575 !important;
      }

      /* 通知下拉選單樣式 */
      .notification-dropdown {
        display: none;
        position: absolute;
        top: 100%;
        right: 0;
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        width: 320px;
        max-height: 480px;
        z-index: 1000;
      }

      .notification-dropdown.show {
        display: block;
      }

      .notification-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 16px;
        border-bottom: 1px solid #eee;
      }

      .notification-header h3 {
        color: #c5332b;
        font-size: 16px;
        margin: 0;
      }

      .notification-count {
        background-color: #f17575;
        color: white;
        padding: 2px 6px;
        border-radius: 12px;
        font-size: 12px;
      }

      .notification-list {
        max-height: 400px;
        overflow-y: auto;
      }

      .notification-item {
        display: flex;
        padding: 12px 16px;
        border-bottom: 1px solid #eee;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      .notification-item:hover {
        background-color: #f9f9f9;
      }

      .notification-item.unread {
        background-color: #fff5f5;
      }

      .notification-avatar {
        width: 40px;
        height: 40px;
        margin-right: 12px;
      }

      .notification-avatar img {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        object-fit: cover;
      }

      .notification-content {
        flex: 1;
      }

      .notification-text {
        font-size: 14px;
        color: #333;
        margin-bottom: 4px;
      }

      .sender-name {
        color: #c5332b;
        font-weight: 500;
      }

      .notification-time {
        font-size: 12px;
        color: #666;
      }

      .no-notifications {
        padding: 20px;
        text-align: center;
        color: #666;
      }
    </style>
  </head>

  <body>
    <!------網站header------>
    <header>
      <nav class="top-nav">
        <div class="nav-left">
          <!-- 移除 href="#"，由 JS 控制導航 -->
          <a class="nav-item nav-link" id="nav-go" role="button">Go！行程</a>
          <a class="nav-item nav-link" id="nav-mygo" role="button">My！行程</a>
        </div>

        <div class="nav-center">
          <!-- Logo也使用動態路徑 -->
          <a id="nav-home" role="button">
            <img
              th:src="@{/img/logo_black.png}"
              alt="Chill Trip"
              class="nav-logo"
              style="width: 150px; height: auto"
            />
          </a>
        </div>

        <div class="nav-right">
          <a
            class="nav-item nav-link"
            id="nav-login"
            role="button"
            style="color: #f17575"
            >登入／註冊</a
          >

          <a class="nav-item nav-link" id="nav-profile" role="button"
            >會員基本資料</a
          >

          <div class="nav-item nav-dropdown" id="nav-support">
            <a class="nav-link" role="button">客服中心</a>
            <!-- 下拉選單容器會由 JS 動態添加 -->
          </div>

          <button id="goToChatRoom" class="chat-btn" type="button">
            <i class="fas fa-comments"></i>
            聊天室
          </button>
        </div>
      </nav>
    </header>

    <div class="container">
      <div class="main-content">
        <!-- 左側區域 -->
        <div class="left-section">
          <div class="day-nav">
            <button id="prevDay">&lt;</button>
            <div class="days-container">
              <button class="day-btn active" data-day="1">第一天</button>
            </div>
            <button id="nextDay">&gt;</button>
            <button id="addDay">+</button>
          </div>
          <div class="spots-lists-container">
            <div class="spots-list" data-day="1">
              <button class="add-spot-btn">+ 新增景點</button>
            </div>
          </div>
        </div>

        <!-- 右側區域 -->
        <div class="right-section">
          <div class="search-bar">
            <div class="search-input-group">
              <input
                type="text"
                class="search-input"
                placeholder="輸入行程名稱"
              />
              <input
                type="text"
                id="map-search"
                class="search-input"
                placeholder="搜尋景點"
              />
              <button id="map-search-btn" class="search-button">搜尋</button>
            </div>
          </div>
          <div id="map" class="map-container">
            <!-- Google Map will be loaded here -->
          </div>
          <!-- 添加搜索結果容器 -->
          <div id="place-results" class="place-results" style="display: none">
            <!-- 搜索結果將在這裡動態生成 -->
          </div>
        </div>
      </div>
    </div>

    <div class="action-buttons">
      <button class="action-btn primary">匯入行程</button>
      <button class="action-btn primary">匯出行程</button>
      <button class="action-btn primary">儲存行程</button>
      <button class="action-btn primary">確認保存</button>
      <button class="action-btn primary">邀請共編</button>
    </div>

    <!-- 新增景點選擇彈窗 -->
    <div class="spot-selector-modal">
      <div class="spot-selector-content">
        <div class="spot-selector-header">
          <h3>選擇收藏景點</h3>
          <button class="spot-selector-close">&times;</button>
        </div>

        <!-- 新增下拉選單區域 -->
        <div class="spot-selector-filters">
          <select id="collection-select">
            <option value="">選擇收藏清單</option>
          </select>
        </div>

        <!-- 景點網格 -->
        <div class="saved-spots-grid">
          <!-- 景點將由 JavaScript 動態添加 -->
        </div>

        <!-- 分頁控制 -->
        <div class="spot-selector-pagination">
          <button class="page-btn" id="prev-page">&lt;</button>
          <span id="page-info">第 1 頁，共 1 頁</span>
          <button class="page-btn" id="next-page">&gt;</button>
        </div>

        <div class="spot-selector-footer">
          <button class="action-btn primary" id="add-selected-spots">
            新增選中的景點
          </button>
        </div>
      </div>
    </div>

    <!------圖片上傳區域------>
    <div class="editor">
      <div class="cover-image-wrapper">
        <h2 class="editor-title">封面圖片</h2>
        <div class="cover-image-container">
          <div class="cover-image-preview">
            <img
              id="coverPreview"
              src="https://via.placeholder.com/800x400?text=Upload+Cover+Image"
              alt="Cover preview"
            />
          </div>
          <div class="cover-image-actions">
            <input
              type="file"
              id="coverImageInput"
              accept="image/*"
              style="display: none"
            />
            <button
              class="action-btn primary"
              onclick="document.getElementById('coverImageInput').click()"
            >
              <i class="fas fa-upload"></i> 上傳封面圖片
            </button>
            <button
              class="action-btn"
              id="removeCoverImage"
              style="display: none"
            >
              <i class="fas fa-trash-alt"></i> 移除圖片
            </button>
          </div>
        </div>
      </div>

      <!------摘要輸入框------>
      <div class="abstract-wrapper">
        <h2 class="editor-title">文章摘要</h2>
        <div class="abstract-container">
          <textarea
            class="editor-content"
            placeholder="撰寫旅遊文章摘要..."
          ></textarea>
        </div>
      </div>

      <!------文章編輯器------>
      <div class="editors-container"></div>

      <div class="editor-footer">
        <select id="activity-type">
          <option value="">選擇活動類型</option>
        </select>
        <select id="region">
          <option value="">選擇地區</option>
        </select>
        <select id="privacy-setting">
          <option value="3">公開</option>
          <option value="4">私人</option>
        </select>
        <button class="action-btn draft">儲存草稿</button>
        <button class="action-btn primary">定時發布</button>
        <button class="action-btn publish">立即發布</button>
      </div>
    </div>

    <div class="collaborators">
      <h3 style="margin-bottom: 10px">共同編輯者</h3>
      <div class="collaborator">
        <span class="status-dot online"></span>
        <span>使用者 A</span>
      </div>
      <div class="collaborator">
        <span class="status-dot offline"></span>
        <span>使用者 B</span>
      </div>
    </div>

    <!-- 上稿器API嵌入 -->
    <script
      th:src="@{https://code.jquery.com/jquery-3.5.1.min.js}"
      crossorigin="anonymous"
    ></script>
    <script
      th:src="@{https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js}"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>

    <link
      th:href="@{https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css}"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
      rel="stylesheet"
    />
    <script
      th:src="@{https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js}"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>

    <link
      th:href="@{https://cdn.jsdelivr.net/npm/summernote@0.9.0/dist/summernote-bs4.min.css}"
      rel="stylesheet"
    />
    <script
      th:src="@{https://cdn.jsdelivr.net/npm/summernote@0.9.0/dist/summernote-bs4.min.js}"
    ></script>

    <!-- 加入 Font Awesome -->
    <script
      th:src="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js}"
    ></script>

    <!-- 身份管理 -->
    <script th:src="@{/js/UserManager.js}"></script>

    <!-- 導航欄nav的href載入器 -->
    <script th:src="@{/js/NavigationManager.js}"></script>

    <!-- Google Map -->
    <script th:src="@{/js/maphsiuchi_fortripeditor.js}"></script>

    <!-- 行程編輯器專屬 -->
    <script th:src="@{/js/trip_editor.js}"></script>
  </body>
</html>
