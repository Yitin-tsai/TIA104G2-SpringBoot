<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>東京五日遊行程安排</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
        background: #f5f5f5;
        color: #333;
      }

      .article-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        border-radius: 8px;
        background-color: rgba(239, 161, 161, 0.105);
      }

      .article-header {
        margin-bottom: 30px;
        text-align: center;
        background-color: #d8b4b330;
      }

      .article-title {
        font-size: 32px;
        margin-bottom: 15px;
        color: #c5332b;
        background-color: #deb2af2f;
      }

      .article-meta {
        color: #f17575;
        font-size: 14px;
        margin-bottom: 20px;
      }

      .article-stats {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 30px;
        margin: 15px 0;
        font-size: 14px;
        color: #666;
      }

      .stat-item {
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .star-rating {
        color: #ffd700;
      }

      .article-tags {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 15px 0;
      }

      .tag {
        background: #f0f0f0;
        padding: 2px 10px;
        border-radius: 12px;
        font-size: 12px;
        color: #666;
        text-decoration: none;
      }

      .tags-group {
        display: flex;
        gap: 8px;
      }

      .stats-group {
        display: flex;
        gap: 20px;
      }

      .tag:hover {
        background: #e0e0e0;
      }

      .collect-btn,
      .follow-btn,
      .report-btn {
        display: flex;
        align-items: center;
        gap: 4px;
        padding: 4px 12px;
        border: 1px solid #f17575;
        background: white;
        border-radius: 16px;
        color: #f17575;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 12px;
      }

      .collect-btn i,
      .follow-btn i,
      .report-btn i {
        font-size: 12px;
      }

      .article-actions {
        display: flex;
        justify-content: center;
        gap: 12px;
        margin: 8px 0;
      }

      .stat-item .fa-eye,
      .stat-item .fa-heart {
        font-size: 16px;
      }

      .loading {
        opacity: 0.5;
        pointer-events: none;
      }

      /* 新的封面圖片容器樣式 */
      .cover-container {
        position: relative;
        width: 100%;
        padding-bottom: 40%; /* 固定寬高比 */
        margin-bottom: 30px;
        background: #f0f0f0;

        overflow: hidden;
      }

      /* 新的封面圖片樣式 */
      .cover-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
      }

      .article-abstract {
        background: rgba(239, 120, 46, 0.08);
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 30px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        line-height: 1.6;
      }

      .day-navigation {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        background: #3933331c;
        padding: 10px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        overflow-x: auto;
      }

      .day-btn {
        padding: 8px 16px;
        border: none;
        background: none;
        cursor: pointer;
        border-radius: 4px;
        color: #666;
        transition: all 0.3s ease;
        white-space: nowrap;
      }

      .day-btn:hover {
        background: #f0f0f0;
      }

      .day-btn.active {
        background: #666;
        color: white;
      }

      .content-wrapper {
        display: flex;
        gap: 20px;
        margin-bottom: 30px;
      }

      .spots-list {
        width: 300px;
        flex-shrink: 0;
        max-height: 500px; /* 與地圖同高 */
        overflow-y: auto; /* 超出時顯示滾動條 */
        padding-right: 10px; /* 為滾動條預留空間 */
      }

      /* 美化滾動條樣式 */
      .spots-list::-webkit-scrollbar {
        width: 6px;
      }

      .spots-list::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 3px;
      }

      .spots-list::-webkit-scrollbar-thumb {
        background: #c5c5c5;
        border-radius: 3px;
      }

      .spots-list::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8;
      }

      .spot-item {
        background: #3933331c;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 15px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .spot-item:last-child {
        margin-bottom: 0;
      }

      .spot-item h3 {
        font-size: 16px;
        margin-bottom: 8px;
        color: #333;
      }

      .spot-time {
        font-size: 14px;
        color: #666;
        margin-bottom: 8px;
      }

      .spot-address {
        font-size: 14px;
        color: #666;
      }

      .map-container {
        flex-grow: 1;
        height: 500px;
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .day-content {
        background: #3933331c;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 30px;
        box-shadow: 0 2px 4px rgba(38, 16, 4, 0.396);
        line-height: 1.6;
      }

      .day-content img {
        max-width: 100%;
        height: auto;
        border-radius: 4px;
        margin: 10px 0;
      }

      .day-title {
        font-size: 24px;
        color: #190504;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 1px solid #eee;
      }

      @media (max-width: 768px) {
        .content-wrapper {
          flex-direction: column;
        }

        .spots-list {
          width: 100%;
          max-height: 300px; /* 手機版時的高度限制 */
          margin-bottom: 20px; /* 與地圖的間距 */
        }

        .map-container {
          height: 300px;
        }

        .cover-container {
          padding-bottom: 60%; /* 移動版更高的寬高比 */
        }
      }

      .article-stats {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 10px;
        font-size: 14px;
        color: #666;
      }

      .article-actions {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 10px 0;
      }

      .collect-btn {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 8px 16px;
        border: 1px solid #f17575;
        background: white;
        border-radius: 20px;
        color: #f17575;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .collect-btn:hover {
        background: #fff1f1;
      }

      .collect-btn.active {
        background: #f17575;
        color: white;
      }

      .collect-btn i {
        font-size: 14px;
      }

      .rating-stars {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 20px 0;
      }

      .rating-stars i {
        font-size: 24px;
        color: #ddd;
        cursor: pointer;
        transition: color 0.3s ease;
      }

      .rating-stars i:hover,
      .rating-stars i.active {
        color: #ffd700;
      }

      .rating-modal-buttons {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-top: 20px;
      }

      .rating-modal-btn {
        padding: 8px 16px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .rating-modal-btn.submit {
        background: #f17575;
        color: white;
      }

      .rating-modal-btn.cancel {
        background: #eee;
        color: #666;
      }

      .rating-modal-btn:hover {
        opacity: 0.8;
      }

      /* 評論區整體樣式 */
      .comments-section {
        max-width: 1200px;
        margin: 5px auto;
        padding: 20px;
        background: rgba(239, 161, 161, 0.105);
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .comments-title {
        font-size: 24px;
        margin-bottom: 20px;
        color: #c5332b;
      }

      /* 評論列表樣式 */
      .comment-item {
        display: flex;
        gap: 15px;
        padding: 20px;
        border-radius: 8px;
        background: #3933331c;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .comment-avatar img {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        object-fit: cover;
      }

      .comment-content {
        flex: 1;
      }

      .comment-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
      }

      .user-name {
        font-weight: bold;
        color: #333;
        margin-right: 10px;
      }

      .comment-rating {
        color: #ffd700;
        font-size: 14px;
      }

      .comment-time {
        color: #666;
        font-size: 12px;
      }

      .comment-text {
        margin: 10px 0;
        line-height: 1.6;
      }

      .comment-photos {
        display: flex;
        gap: 10px;
        margin: 10px 0;
        flex-wrap: wrap;
      }

      .comment-photos img {
        width: 200px;
        height: 150px;
        object-fit: cover;
        border-radius: 4px;
      }

      .comment-actions {
        display: flex;
        gap: 10px;
        margin-top: 10px;
      }

      .comment-actions button {
        padding: 4px 8px;
        border: none;
        background: none;
        color: #666;
        cursor: pointer;
        font-size: 12px;
        transition: color 0.3s;
      }

      .comment-actions button:hover {
        color: #f17575;
      }

      /* 分頁控制樣式 */
      .comments-pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 15px;
        margin: 20px 0;
      }

      .page-btn {
        padding: 5px 10px;
        border: 1px solid #e0e0e0;
        background: white;
        border-radius: 4px;
        cursor: pointer;
      }

      .page-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      /* 評論表單樣式 */
      .comment-form {
        position: relative;
        padding-bottom: 20px;
      }

      .comment-form h3 {
        margin-bottom: 15px;
        color: #333;
      }

      .star-input {
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .star-input i {
        font-size: 16px;
        color: #ddd;
        cursor: pointer;
      }

      .star-input i.fas {
        color: #ffd700;
      }

      .comment-form textarea {
        width: 100%;
        height: 100px;
        padding: 10px;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        resize: vertical;
        margin-bottom: 15px;
      }

      .photo-upload {
        margin-bottom: 15px;
      }

      .upload-btn {
        padding: 8px 16px;
        background: #f5f5f5;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background 0.3s;
      }

      .upload-btn:hover {
        background: #e65c5c;
      }

      .photo-preview {
        display: flex;
        gap: 10px;
        margin-top: 10px;
        flex-wrap: wrap;
      }

      .submit-btn {
        padding: 10px 20px;
        background: #c5332b;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background 0.3s;
      }

      .submit-btn:hover {
        background: #a62b24;
      }

      @media (max-width: 768px) {
        .comment-photos img {
          width: 100%;
          height: auto;
        }
      }

      .comment-form-actions {
        display: flex;
        gap: 10px;
        margin-top: 15px;
      }

      .upload-btn,
      .submit-btn {
        padding: 8px 16px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
        display: inline-flex;
        align-items: center;
        white-space: nowrap;
        gap: 6px;
        transition: opacity 0.3s;
      }

      .upload-btn {
        background: #f5f5f5;
        color: #666;
        border: 1px solid #ddd;
      }

      .submit-btn {
        background: #f17575;
        color: white;
      }

      .upload-btn:hover,
      .submit-btn:hover {
        opacity: 0.8;
      }

      .upload-btn i,
      .submit-btn i {
        font-size: 14px;
      }

      /* 新增底部容器樣式 */
      .comment-form-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 15px;
      }

      /* 評分區塊樣式 */
      .rating-input {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .star-input {
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .star-input i {
        font-size: 16px;
        color: #ddd;
        cursor: pointer;
      }

      .star-input i.fas {
        color: #ffd700;
      }
    </style>
  </head>
  <body>
    <!------網站header------>
    <header>
      <nav class="top-nav">
        <div class="nav-left">
          <a href="#" class="nav-item nav-link" id="nav-go">Go！行程</a>
          <a href="#" class="nav-item nav-link" id="nav-mygo">My！行程</a>
        </div>
        <div class="nav-center">
          <a href="/TIA104G2-SpringBoot/loggedin">
            <img
              th:src="@{/img/logo_black.png}"
              alt="Chill Trip"
              style="width: 150px; height: auto"
            />
          </a>
        </div>
        <div class="nav-right">
          <a
            href="/TIA104G2-SpringBoot/login"
            class="nav-item nav-link active"
            id="nav-login"
            style="color: #ff6600"
            >登入／註冊</a
          >
          <a href="#" class="nav-item nav-link" id="nav-profile"
            >會員基本資料</a
          >
          <a href="#" class="nav-item nav-link" id="nav-support">客服中心</a>
          <button id="goToChatRoom" class="chat-btn">
            <i class="fas fa-comments"></i>
            聊天室
          </button>
        </div>
      </nav>
    </header>

    <!-- 文章標籤 -->
    <div class="article-container">
      <header class="article-header">
        <h1 class="article-title">東京五日遊行程安排</h1>

        <!-- 標籤和統計資訊 -->
        <div class="article-stats">
          <div class="tags-group">
            <a href="#" class="tag" data-tag-id="1">美食</a>
            <a href="#" class="tag" data-tag-id="2">景點</a>
          </div>
          <div class="stats-group">
            <div class="stat-item">
              <i class="fas fa-eye"></i>
              <span id="view-count">0</span>
            </div>
            <div class="stat-item">
              <i class="fas fa-heart"></i>
              <span id="favorite-count">0</span>
            </div>
            <div class="stat-item">
              <div class="star-rating" id="rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
                <i class="far fa-star"></i>
              </div>
              <span id="rating-value">0.0</span>
            </div>
          </div>
        </div>

        <!-- 新增的操作按鈕區域 -->
        <div class="article-actions">
          <button id="followBtn" class="follow-btn">
            <i class="far fa-plus"></i>
            <span>追蹤作者</span>
          </button>
          <button id="collectBtn" class="collect-btn">
            <i class="far fa-heart"></i>
            <span>收藏文章</span>
          </button>
          <button id="reportBtn" class="report-btn">
            <i class="far fa-flag"></i>
            <span>檢舉</span>
          </button>
        </div>

        <div class="article-meta">
          <span>發布時間: <span id="publish-time">2025-1-1 20:00</span></span>
          <span> • </span>
          <span>作者: <span id="author-name">愛旅遊的Seal</span></span>
        </div>

        <!-- 封面大圖 -->
        <div class="cover-container">
          <img
            class="cover-image"
            src="https://picsum.photos/1440/800"
            alt="旅遊封面"
          />
        </div>
      </header>

      <div class="article-abstract">
        探訪台北最具特色的景点景點！從松山文創園區的寧靜藝術氛圍，展開一趟舒適且文化氣息豐富的旅程。
      </div>

      <div class="day-navigation">
        <!-- 天數按鈕將由 JS 動態生成 -->
      </div>

      <div class="content-wrapper">
        <div class="spots-list">
          <!-- 移除固定的景點卡片，將由 JS 動態生成 -->
        </div>

        <div class="map-container" id="map">
          <!-- Google Map will be loaded here -->
        </div>
      </div>

      <div class="day-content">
        <h2 class="day-title">第一天</h2>
        <p>
          今天的行程從松山文創園區開始，這裡是台北最具代表性的文創基地之一。園區內保留了許多日治時期的建築，現在已經轉變為展覽、表演、市集等多元用途的文創空間。
        </p>
        <p>
          接著我們前往台北101，這裡不只是台北的地標建築，更是一個集結美食、購物、觀景的複合式景點。特別推薦大家一定要上89樓的觀景台，在這裡可以將整個台北盆地的美景盡收眼底。
        </p>
      </div>
    </div>

    <div class="comments-section">
      <h2 class="comments-title">文章評論</h2>

      <!-- 評論列表 -->
      <div class="comments-list">
        <!-- 單個評論樣板 -->
        <div class="comment-item">
          <div class="comment-avatar">
            <img src="https://picsum.photos/50/50" alt="User Avatar" />
          </div>
          <div class="comment-content">
            <div class="comment-header">
              <div class="comment-user-info">
                <span class="user-name">快樂旅行者</span>
                <div class="comment-rating">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="far fa-star"></i>
                  <span>4.0</span>
                </div>
              </div>
              <div class="comment-time">2024-01-15 14:30</div>
            </div>
            <div class="comment-text">
              這篇文章整理得很詳細，對我的行程規劃幫助很大！特別喜歡松山文創園區的介紹，
              讓我對這個地方有更深入的了解。
            </div>
            <div class="comment-photos">
              <img
                src="https://picsum.photos/200/150?random=1"
                alt="Comment photo"
              />
              <img
                src="https://picsum.photos/200/150?random=2"
                alt="Comment photo"
              />
            </div>
            <div class="comment-actions">
              <button class="comment-edit">
                <i class="far fa-edit"></i> 編輯
              </button>
              <button class="comment-delete">
                <i class="far fa-trash-alt"></i> 刪除
              </button>
              <button class="comment-report">
                <i class="far fa-flag"></i> 檢舉
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- 分頁控制 -->
      <div class="comments-pagination">
        <button class="page-btn" disabled>&lt;</button>
        <span class="page-info">第 1 頁，共 5 頁</span>
        <button class="page-btn">&gt;</button>
      </div>

      <!-- 評論輸入區域 -->
      <div class="comment-form">
        <h3>發表評論</h3>

        <textarea placeholder="分享您的想法..."></textarea>

        <div class="photo-preview"></div>

        <div class="comment-form-footer">
          <div class="rating-input">
            <span>評分：</span>
            <div class="star-input">
              <i class="far fa-star" data-rating="1"></i>
              <i class="far fa-star" data-rating="2"></i>
              <i class="far fa-star" data-rating="3"></i>
              <i class="far fa-star" data-rating="4"></i>
              <i class="far fa-star" data-rating="5"></i>
            </div>
          </div>

          <div class="comment-form-actions">
            <button
              class="upload-btn"
              onclick="document.getElementById('commentPhotos').click()"
            >
              <i class="far fa-images"></i>上傳照片
            </button>
            <button class="submit-btn">
              <i class="far fa-paper-plane"></i>發表評論
            </button>
          </div>
        </div>
        <input
          type="file"
          id="commentPhotos"
          multiple
          accept="image/*"
          style="display: none"
        />
      </div>
    </div>

    <script src="/static/js/trip_article.js"></script>
  </body>
</html>
